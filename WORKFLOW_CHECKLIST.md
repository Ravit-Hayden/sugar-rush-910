# 작업 순서 체크리스트 및 해결 방법 가이드

## ⚠️ 중요 원칙
**하나라도 순서가 어긋나면 처음부터 다시 해야 합니다.**
**모든 작업은 이 체크리스트를 따라야 합니다.**

---

## 📋 작업 시작 전 체크리스트

- [ ] 현재 Git 상태 확인 (`git status`)
- [ ] 최신 커밋 확인 (`git log -1`)
- [ ] 백업 폴더 확인 (최신 백업 위치 확인)
- [ ] 작업할 파일 목록 확인
- [ ] 관련 파일 읽기 (수정 전 상태 확인)

---

## 🔧 작업 순서 (표준 워크플로우)

### 1단계: 문제 파악 및 계획
- [ ] 사용자 요구사항 정확히 이해
- [ ] 관련 파일 식별
- [ ] 수정 방법 계획 수립
- [ ] 다른 파일에 미치는 영향 확인

### 2단계: 파일 읽기
- [ ] 수정할 파일 읽기
- [ ] 관련 파일 읽기 (의존성 확인)
- [ ] 현재 코드 상태 파악

### 3단계: 수정 실행
- [ ] 한 번에 하나씩 수정
- [ ] 각 수정 후 파일 저장
- [ ] 수정 내용 기록

### 4단계: 검증
- [ ] 린터 오류 확인 (`read_lints`)
- [ ] 수정된 파일 다시 읽어서 확인
- [ ] 다른 파일에 영향 없는지 확인

### 5단계: 테스트
- [ ] 개발 서버 실행 (필요시)
- [ ] 기능 테스트
- [ ] 오류 확인

### 6단계: 커밋
- [ ] 변경사항 확인 (`git status`)
- [ ] 커밋 메시지 작성 (상세하게)
- [ ] 커밋 실행
- [ ] 커밋 해시 기록

### 7단계: 백업
- [ ] 백업 폴더 생성
- [ ] 전체 파일 복사
- [ ] 작업 기록 문서 생성
- [ ] 백업 확인

---

## 🎯 오늘 작업 순서 (2025-12-04)

### 작업 1: 앨범 페이지 개선

#### 1-1. 문제 파악
- [x] 앨범 페이지를 다른 페이지와 비교
- [x] 개선점 5가지 도출
- [x] 사용자와 합의

#### 1-2. 파일 읽기
- [x] `src/routes/albums/+page.svelte` 읽기
- [x] `src/app.css` 읽기 (관련 스타일 확인)
- [x] `src/lib/utils/status.ts` 읽기 (상태 유틸리티 확인)

#### 1-3. 앨범 커버 이미지 처리 개선
**순서:**
1. [x] 기본 이미지 div에 `bg-surface-2` 추가
2. [x] Disc3 아이콘에 `opacity-30` 추가
3. [x] 조건부 렌더링 추가 (`{#if album.cover && album.cover !== '/api/placeholder/300/300'}`)
4. [x] `img` 태그 추가 (absolute positioning)
5. [x] `onerror` 핸들러 추가 (이미지 로드 실패 시 숨김)

**파일:** `src/routes/albums/+page.svelte` (237-247줄)

#### 1-4. 카드 호버/포커스 효과 통일
**순서:**
1. [x] 카드 div에 `album-card` 클래스 추가
2. [x] 재생 버튼에 `play-button` 클래스 추가
3. [x] 재생 아이콘에 `play-button-icon` 클래스 추가
4. [x] `focus-visible:outline-*` 클래스 추가

**파일:** `src/routes/albums/+page.svelte` (229줄, 250-251줄)

#### 1-5. 앨범 정보 확장
**순서:**
1. [x] 샘플 데이터에 `created_at` 필드 추가 (모든 앨범)
2. [x] 샘플 데이터에 `likes` 필드 추가 (모든 앨범)
3. [x] 샘플 데이터를 3개에서 12개로 확장 (모든 상태값 포함)
4. [x] UI에 좋아요/재생 정보 표시 추가
5. [x] UI에 생성일 표시 추가

**파일:** `src/routes/albums/+page.svelte` (11-143줄, 271-285줄)

#### 1-6. 배지 위치 최적화
**순서:**
1. [x] 배지를 이미지 오버레이에서 제거
2. [x] 제목과 같은 줄에 배치 (`flex items-start justify-between`)
3. [x] 배지에 `pr-0` 클래스 추가
4. [x] CSS 규칙 추가 (`.bg-surface-1 .badge-base.pr-0`)

**파일:** 
- `src/routes/albums/+page.svelte` (258-263줄)
- `src/app.css` (배지 우측 정렬 규칙)

#### 1-7. 재생 아이콘 중심 정렬
**순서:**
1. [x] `ml-1` 클래스 제거

**파일:** `src/routes/albums/+page.svelte` (251줄)

#### 1-8. 재생/좋아요 레이아웃 개선
**순서:**
1. [x] 레이아웃을 `flex flex-col gap-0.5`로 변경
2. [x] 각 항목을 `flex items-center gap-2`로 구성
3. [x] 텍스트는 왼쪽, 숫자는 오른쪽 배치
4. [x] 숫자에 `text-hover-cyan` 클래스 적용

**파일:** `src/routes/albums/+page.svelte` (271-280줄)

#### 1-9. 버튼 정렬 및 간격 최적화
**순서:**
1. [x] 생성일과 버튼을 같은 줄에 배치 (`flex items-baseline justify-between`)
2. [x] 생성일에 `leading-none` 추가
3. [x] 버튼 컨테이너에 `-mr-4` 추가
4. [x] 더보기 버튼에 `-ml-1` 추가
5. [x] 버튼 간격 조정 (최종: `gap` 제거, `-ml-1` 사용)

**파일:** `src/routes/albums/+page.svelte` (283-292줄)

#### 1-10. 필터 옵션 확장
**순서:**
1. [x] `getStatusColor`, `getStatusLabel` import 추가
2. [x] 로컬 함수 제거
3. [x] 필터 옵션에 모든 상태값 추가
4. [x] 그룹별로 분류 (`group` 속성 추가)

**파일:** `src/routes/albums/+page.svelte` (4줄, 176-190줄)

#### 1-11. 검증 및 커밋
**순서:**
1. [x] 린터 오류 확인
2. [x] 파일 저장
3. [x] Git 상태 확인
4. [x] 커밋 메시지 작성
5. [x] 커밋 실행
6. [x] 커밋 해시 기록: `c729e95261c297bcd25d1c3b3f4c48c787aea15c`

---

### 작업 2: 버그 수정

#### 2-1. 버그 발견
- [x] SearchFilterBar 중복 이벤트 핸들러 충돌 발견
- [x] CSS 변수 중복 정의 발견

#### 2-2. 버그 1 수정: 중복 이벤트 핸들러 제거
**순서:**
1. [x] `src/scripts/ui.js` 파일 읽기
2. [x] 84-95줄의 `[role="option"]` 클릭 리스너 코드 확인
3. [x] `SearchFilterBar.svelte`의 `on:click` 핸들러 확인
4. [x] 중복 리스너 제거 (84-95줄 삭제)
5. [x] 주석 추가 (Svelte 컴포넌트가 처리함을 명시)
6. [x] 외부 클릭 및 Escape 키 처리는 유지

**파일:** `src/scripts/ui.js` (61-96줄)

#### 2-3. 버그 2 수정: CSS 변수 중복 정의 제거
**순서:**
1. [x] `src/app.css` 파일 읽기
2. [x] 다크 모드에서 `--badge-medium-yellow` 중복 확인 (37줄, 47줄)
3. [x] 라이트 모드에서 `--badge-medium-yellow` 중복 확인 (94줄, 104줄)
4. [x] 다크 모드 37줄 제거 (47줄 유지: `#FFEB3B`)
5. [x] 라이트 모드 94줄 제거 (104줄 유지: `#FFC107`)

**파일:** `src/app.css` (37줄, 94줄 삭제)

#### 2-4. 검증 및 커밋
**순서:**
1. [x] 린터 오류 확인
2. [x] 파일 저장
3. [x] Git 상태 확인
4. [x] 커밋 메시지 작성
5. [x] 커밋 실행
6. [x] 커밋 해시 기록: `d51972d21844d21fd107dcd2aa9018df1f839260`

---

### 작업 3: 백업

#### 3-1. 백업 준비
**순서:**
1. [x] 백업 폴더 경로 확인: `C:\Development\sugar-rush-1203`
2. [x] 백업 폴더 생성

#### 3-2. 파일 복사
**순서:**
1. [x] `robocopy` 명령 실행
2. [x] `node_modules`, `.git` 제외
3. [x] 복사 완료 확인 (1,768개 파일)

#### 3-3. 문서 생성
**순서:**
1. [x] `COMMIT_SUMMARY.md` 복사
2. [x] `TODAY_WORK_DETAIL.md` 생성
3. [x] `WORKFLOW_CHECKLIST.md` 생성 (이 파일)

#### 3-4. 백업 확인
**순서:**
1. [x] 주요 파일 존재 확인
2. [x] 파일 수 확인 (1,769개)
3. [x] 문서 파일 확인

---

## 🔄 복구 순서 (문제 발생 시)

### 전체 복구
**순서:**
1. [ ] Git 상태 확인 (`git status`)
2. [ ] 최신 커밋 확인 (`git log -1`)
3. [ ] 복구할 커밋 해시 확인
4. [ ] `git reset --hard <커밋_해시>` 실행
5. [ ] 복구 확인

### 부분 복구 (특정 파일만)
**순서:**
1. [ ] 복구할 파일 경로 확인
2. [ ] 백업 폴더에서 파일 확인
3. [ ] `Copy-Item` 명령 실행
4. [ ] 파일 내용 확인

### 백업 폴더에서 복구
**순서:**
1. [ ] 백업 폴더 경로 확인
2. [ ] 백업 파일 존재 확인
3. [ ] `robocopy` 명령 실행
4. [ ] 복구 확인

---

## 📝 작업 기록 규칙

### 필수 기록 사항
1. **작업 순서**: 단계별로 정확한 순서 기록
2. **수정 위치**: 파일명과 줄 번호
3. **변경 내용**: Before/After 코드
4. **이유**: 왜 이렇게 수정했는지
5. **검증**: 린터 오류, 테스트 결과
6. **커밋 해시**: 각 커밋의 해시 값

### 기록 형식
```markdown
#### 작업명
**순서:**
1. [ ] 단계 1 설명
2. [ ] 단계 2 설명
3. [ ] 단계 3 설명

**파일:** `경로/파일명` (줄 번호)
**이유:** 왜 이렇게 했는지
**검증:** 확인한 내용
```

---

## ⚠️ 주의사항

1. **순서 준수**: 반드시 순서대로 진행
2. **한 번에 하나**: 여러 작업을 동시에 하지 않기
3. **검증 필수**: 각 단계마다 검증
4. **기록 필수**: 모든 작업 기록
5. **백업 필수**: 작업 전후 백업

---

## ✅ 체크리스트 사용법

1. 작업 시작 전: "작업 시작 전 체크리스트" 확인
2. 작업 중: 각 단계의 체크박스 체크
3. 작업 완료 후: 모든 체크박스 확인
4. 문제 발생 시: "복구 순서" 참고

---

**마지막 업데이트:** 2025-12-04 오전 12:52
**현재 상태:** ✅ 모든 작업 완료

