# Sugar Rush 910 - ìŠ¤í¬ë¡¤ë°” ìµœì í™” ë°±ì—…

**ë°±ì—… ì¼ì‹œ**: 2025-10-04 09:16:32  
**ì‘ì—… ë‚´ìš©**: Windows 11 ì˜¤ë²„ë ˆì´ ìŠ¤í¬ë¡¤ë°” ìµœì í™” ì™„ë£Œ

---

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### ê¸°ìˆ  ìŠ¤íƒ
- **í”„ë¡ íŠ¸ì—”ë“œ**: SvelteKit + Tailwind CSS v4 + pnpm workspaces
- **í°íŠ¸**: Pretendard Variable (CDN)
- **ì•„ì´ì½˜**: lucide-svelte
- **íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €**: pnpm 9.12.0, Node â‰¥ 20
- **ë¹Œë“œ ë„êµ¬**: Vite 7.1.7

### ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ
- **í—¤ë”**: 56px ê³ ì • (height: h-20)
- **ì‚¬ì´ë“œë°”**: 240px í† ê¸€, ë°˜ì‘í˜• í™•ì¥/ì¶•ì†Œ
- **ë©”ì¸ ì½˜í…ì¸ **: 12-col grid, ë°˜ì‘í˜• íŒ¨ë”© ì‹œìŠ¤í…œ
- **ì¹´ë“œ**: ê¸°ë³¸ h-72, KPIë§Œ h-80

### ë°˜ì‘í˜• ê·œì¹™
- `<md`: 1ì—´ (ëª¨ë°”ì¼)
- `md~<lg`: 2ì—´ (íƒœë¸”ë¦¿)
- `â‰¥lg`: 3ì—´ (ë°ìŠ¤í¬í†±)
- ì¹´ë“œë‹¹ ìµœëŒ€ 4í–‰, "ë”ë³´ê¸°" ë§í¬

---

## ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ

### ë¸Œëœë“œ í† í°
```css
:root {
  --brand-pink: #FF007F;           /* í•«í•‘í¬ ë©”ì¸ */
  --hover-cyan: #00FFFF;          /* í˜¸ë²„ ì‹œì•ˆ */
  --bg: #000000;                  /* ë°°ê²½ ê²€ì • */
  --surface-1: #1a1a1a;          /* ì„œí”¼ìŠ¤ 1 */
  --surface-2: #2a2a2a;          /* ì„œí”¼ìŠ¤ 2 */
  --text-strong: #FFFFFF;         /* ê°•ì¡° í…ìŠ¤íŠ¸ */
  --text-base: #CCCCCC;           /* ê¸°ë³¸ í…ìŠ¤íŠ¸ */
  --text-muted: #999999;          /* ì•½í•œ í…ìŠ¤íŠ¸ */
  --text-on-brand: #FEFDF6;       /* í•«í•‘í¬ ë²„íŠ¼ í…ìŠ¤íŠ¸ */
  --border-subtle: #333333;       /* ê²½ê³„ì„  */
}
```

### ìŠ¤í¬ë¡¤ë°” í† í°
```css
:root {
  --scrollbar-track: #000000;      /* ìŠ¤í¬ë¡¤ë°” íŠ¸ë™ */
  --scrollbar-thumb: #121212;      /* ìŠ¤í¬ë¡¤ë°” ì¸ */
  --scrollbar-thumb-hover: #323232; /* ìŠ¤í¬ë¡¤ë°” í˜¸ë²„ */
}
```

### ìƒ‰ìƒ ê¸ˆì¹™ì‚¬í•­
- ë¸Œëœë“œìƒ‰ì€ ë¡œê³ /ì•…ì„¼íŠ¸ ì „ìš©
- ì•¨ë²” ëŒ€í‘œìƒ‰ ê¸ˆì§€
- ê³µê°œ UIì— "AI" ë¬¸ìì—´ ê¸ˆì§€ (CI ê²Œì´íŠ¸ ì°¨ blocking)

---

## ğŸ—‚ï¸ íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ app.css                    # ì „ì—­ ìŠ¤íƒ€ì¼
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Header.svelte     # ìƒë‹¨ í—¤ë”
â”‚   â”‚   â”œâ”€â”€ Sidebar.svelte    # ì¢Œì¸¡ ì‚¬ì´ë“œë°”
â”‚   â”‚   â”œâ”€â”€ ThemeToggle.svelte # ë‹¤í¬/ë¼ì´íŠ¸ í† ê¸€
â”‚   â”‚   â””â”€â”€ PageContainer.svelte # í˜ì´ì§€ ì»¨í…Œì´ë„ˆ
â”‚   â””â”€â”€ routes/
â”‚       â””â”€â”€ +layout.svelte    # ë©”ì¸ ë ˆì´ì•„ì›ƒ
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ +layout.svelte        # ì „ì—­ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ +page.svelte          # ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ albums/+page.svelte   # ì•¨ë²” ê´€ë¦¬
â”‚   â”œâ”€â”€ tracks/+page.svelte   # íŠ¸ë™ ê´€ë¦¬
â”‚   â”œâ”€â”€ upload/+page.svelte   # ì—…ë¡œë“œ ì„¼í„°
â”‚   â”œâ”€â”€ settings/+page.svelte # ì„¤ì •
â”‚   â””â”€â”€ api/search/+server.ts # ê²€ìƒ‰ API
â””â”€â”€ vite.config.ts            # ë¹Œë“œ ì„¤ì •
```

---

## ğŸ“„ í•µì‹¬ íŒŒì¼ ë‚´ìš©

### 1. src/app.css

```css
@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css');
@import 'tailwindcss';

/* CSS ë³€ìˆ˜ ì •ì˜ */
:root {
  --bg: #000000;
  --surface-1: #1a1a1a;
  --surface-2: #2a2a2a;
  --text-strong: #FFFFFF;
  --text-base: #CCCCCC;
  --text-muted: #999999;
  --text-on-brand: #FEFDF6;
  --brand-pink: #FF007F;
  --hover-cyan: #00FFFF;
  --border-subtle: #333333;
  --scrollbar-track: #000000;
  --scrollbar-thumb: #121212;
  --scrollbar-thumb-hover: #323232;
}

/* ë‹¤í¬ í…Œë§ˆ ê¸°ë³¸ */
html {
  color-scheme: dark;
}

/* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
body {
  background-color: var(--bg);
  color: var(--text-base);
  overflow-x: hidden;
  margin: 0;
  padding: 0;
}

html {
  overflow-x: hidden;
  margin: 0;
  padding: 0;
}

.min-h-screen {
  overflow-x: hidden;
}

/* í†µì¼ëœ ë©”ì¸ ì˜ì—­ ìŠ¤íƒ€ì¼ ì‹œìŠ¤í…œ */
.page-header {
  margin-bottom: 2rem;
}

.page-header h1 {
  font-size: 1.875rem;
  font-weight: 700;
  color: var(--text-strong);
  margin-bottom: 0.2rem;
  line-height: 1.2;
}

.page-header p {
  color: var(--text-muted);
  font-size: 1rem;
  line-height: 1.5;
}

.page-content {
  margin-top: 2rem;
}

/* í†µì¼ëœ ì¹´ë“œ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ */
.card-grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

@media (min-width: 640px) {
  .card-grid {
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .card-grid-grid {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }
}

@media (min-width: 1280px) {
  .card-grid {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }
}

/* í†µì¼ëœ í•«í•‘í¬ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.btn-primary {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.8rem 1rem;
  background-color: var(--brand-pink);
  color: #FEFDF6;
  border-radius: 0.375rem;
  font-weight: 500;
  font-size: 0.875rem;
  transition: all 200ms ease-in-out;
  border: none;
  cursor: pointer;
  text-decoration: none;
}

.btn-primary:hover {
  background-color: var(--hover-cyan);
  color: #000000;
  transform: translateY(-1px);
}

.btn-primary:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--brand-pink);
}

/* í†µì¼ëœ ê²€ìƒ‰ì°½ ìŠ¤íƒ€ì¼ */
.search-input {
  position: relative;
  width: 100%;
}

.search-input input {
  width: 100%;
  padding: 0.8rem 0.75rem 0.8rem 2.5rem;
  background-color: var(--surface-1);
  border: 1px solid var(--border-subtle);
  border-radius: 0.375rem;
  color: var(--text-base);
  font-size: 0.875rem;
  transition: all 200ms ease-in-out;
}

.search-input input::placeholder {
  color: var(--text-muted);
  opacity: 1;
}

.search-input input:hover {
  border-color: var(--hover-cyan);
}

.search-input input:focus {
  outline: none;
  border-color: var(--brand-pink);
  box-shadow: 0 0 0 1px var(--brand-pink);
}

.search-input .search-icon {
  position: absolute;
  left: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  width: 1rem;
  height: 1rem;
  color: var(--text-muted);
  pointer-events: none;
}

/* í†µì¼ëœ ë©”ì¸ ì˜ì—­ ìŠ¤íƒ€ì¼ */
.main-content-area {
  padding-top: 5rem;
  padding-bottom: 0.375rem;
  padding-left: 0.75rem;
  padding-right: 1rem;
  transition: all 300ms ease-in-out;
  overflow-x: hidden;
  background-color: var(--bg);
  min-height: calc(100vh - 80px);
  width: 100%;
  box-sizing: border-box;
  position: relative;
}

.main-content-area::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 8px;
  height: 100%;
  background-color: transparent;
  z-index: -1;
}

@media (min-width: 640px) {
  .main-content-area {
    padding-left: 0.75rem;
    padding-right: 1rem;
  }
}

@media (min-width: 768px) {
  .main-content-area {
    padding-left: 1.5rem;
    padding-right: 1rem;
  }
}

.main-content-area.sidebar-collapsed {
  margin-left: 72px;
  width: calc(100% - 72px);
}

.main-content-area.sidebar-expanded {
  margin-left: 250px;
  width: calc(100% - 250px);
}

/* ì‚¬ì´ë“œë°” ì• ë‹ˆë©”ì´ì…˜ í†µì¼ */
.sidebar-text-animation {
  transition: all 200ms ease-in-out;
}

.sidebar-text-animation.collapsed {
  opacity: 0;
  width: 0;
  overflow: hidden;
  margin-left: 0;
}

.sidebar-text-animation.expanded {
  opacity: 1;
  width: auto;
  overflow: visible;
  margin-left: 0.75rem;
}

/* ë©”ë‰´ ì•„ì´í…œ í™œì„±í™” ìŠ¤íƒ€ì¼ */
.sidebar-menu-item.active {
  background-color: var(--brand-pink);
  color: var(--text-on-brand);
}

.sidebar-menu-item.active .lucide-icon {
  color: var(--text-on-brand);
}

.sidebar-menu-item:not(.active):hover {
  background-color: var(--surface-1);
  color: var(--text-strong);
}

.sidebar-menu-item:not(.active):hover .lucide-icon {
  color: var(--text-strong);
}

/* í—¤ë” ìŠ¤íƒ€ì¼ */
header {
  border-bottom: 1px solid var(--border-subtle);
}

/* ê²€ìƒ‰ì°½ ë°˜ì‘í˜• */
@media (max-width: 767px) {
  header .flex-1.justify-end {
    justify-content: flex-start;
  }
  
  .search-container {
    flex: 1;
  }
  
  .search-container .relative {
    max-width: none;
  }
  
  header {
    padding-left: 1.5rem !important;
    padding-right: 1.5rem !important;
  }
}

@media (min-width: 768px) {
  header .flex-1.justify-end {
    justify-content: flex-end;
  }
  
  .search-container {
    flex: none;
  }
  
  .search-container .relative {
    max-width: 320px;
  }
}

/* ìŠ¤í¬ë¡¤ë°”ê°€ ì—†ì„ ë•Œë„ ì˜ì—­ì„ ê³ ì •í•˜ê¸° ìœ„í•œ ì¶”ê°€ ì„¤ì • */
html {
  overflow-y: scroll;
}

/* í—¤ë” ë°˜ì‘í˜• ì •ë ¬ */
@media (max-width: 767px) {
  .search-container {
    margin-left: 0;
    padding-left: 0;
  }
}

/* ê°€ë¡œ ìŠ¤í¬ë¡¤ë°” ë°©ì§€ */
.page-content,
.card-grid,
.search-input,
.filter-select {
  max-width: 100%;
  overflow-x: hidden;
}

/* === Enhanced Scrollbar (Windows 11 Overlay Optimized) === */
:root {
  --scrollbar-track: #000000;
  .scrollbar-thumb: #121212;
  --scrollbar-thumb-hover: #323232;
}

/* íŒŒì´ì–´í­ìŠ¤ */
html, body, .main-content-area {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
  scrollbar-gutter: stable both-edges;
}

/* Chromium ê³„ì—´ */
html::-webkit-scrollbar,
body::-webkit-scrollbar,
.main-content-area::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

html::-webkit-scrollbar-track,
body::-webkit-scrollbar-track,
.main-content-area::-webkit-scrollbar-track {
  background-color: var(--scrollbar-track);
}

html::-webkit-scrollbar-thumb,
body::-webkit-scrollbar-thumb,
.main-content-area::-webkit-scrollbar-thumb {
  background-color: var(--scrollbar-thumb);
  background-clip: padding-box;
  border: 2px solid transparent;
}

html::-webkit-scrollbar-thumb:hover,
body::-webkit-scrollbar-thumb:hover,
.main-content-area::-webkit-scrollbar-thumb:hover {
  background-color: var(--scrollbar-thumb-hover);
}

html::-webkit-scrollbar-thumb:active,
body::-webkit-scrollbar-thumb:active,
.main-content-area::-webkit-scrollbar-thumb:active {
  background-color: #4a4a4a;
}
```

### 2. src/routes/+layout.svelte

```svelte
<script lang="ts">
	import { onMount } from 'svelte';
	import '../app.css';
	import Header from '$lib/components/Header.svelte';
	import Sidebar from '$lib/components/Sidebar.svelte';

	let { Ğ´ĞµÑ‚ĞµĞ¹ } = $props();
	let sidebarCollapsed = $state(true);
	let sidebarOpen = $state(false);

	onMount(() => {
		const handleSidebarCollapseChange = (event: CustomEvent) => {
			sidebarCollapsed = event.detail.collapsed;
		};

		const handleSidebarToggle = (event: CustomEvent) => {
			if (typeof window !== 'undefined' && window.innerWidth < 768) {
				sidebarOpen = !sidebarOpen;
			}
		};

		if (typeof window !== 'undefined') {
			window.addEventListener('sidebar-collapse-change', handleSidebarCollapseChange as EventListener);
			window.addEventListener('sidebar-toggle', handleSidebarToggle as EventListener);
		}
		
		return () => {
			if (typeof window !== 'undefined') {
				window.removeEventListener('sidebar-collapse-change', handleSidebarCollapseChange as EventListener);
				window.removeEventListener('sidebar-toggle', handleSidebarToggle as EventListener);
			}
		};
	});
</script>

<svelte:head>
	<link rel="icon" href="/favicon.ico" />
	<link rel="icon" type="image/png" href="/favicon.png" />
</svelte:head>

<div class="min-h-screen bg-bg overflow-x-hidden">
	<Header />
	<Sidebar />
	
	<main class="main-content-area {sidebarCollapsed ? 'sidebar-collapsed' : 'sidebar-expanded'}">
		{@render children?.()}
	</main>
</div>
```

### 3. src/lib/components/Sidebar.svelte

```svelte
<script lang="ts">
	import { onMount } from 'svelte';
	import { page } from '$app/stores';
	import {
		LayoutGrid, Disc3, Music, FolderOpen, Heart, Rocket,
		DollarSign, Calendar, MessageSquare, Shield, Settings,
		PanelLeftOpen, PanelLeftClose, PanelsTopLeft
	} from 'lucide-svelte';

	let sidebarOpen = $state(false);
	let sidebarCollapsed = $state(true);
	let isSearching = $state(false);
	let sidebarToggleHovered = $state(false);
	let sidebarToggleClicked = $state(false);
	let isMobile = $state(false);

	function checkScreenSize() {
		if (typeof window !== 'undefined') {
			isMobile = window.innerWidth < 768;
		}
	}

	function handleSidebarToggle() {
		sidebarToggleClicked = true;
		setTimeout(() => {
			sidebarToggleClicked = false;
		}, 150);
		
		if (typeof window !== 'undefined') {
			if (window.innerWidth >= 768) {
				sidebarCollapsed = !sidebarCollapsed;
				window.dispatchEvent(new CustomEvent('sidebar-collapse-change', { 
					detail: { collapsed: sidebarCollapsed } 
				}));
				window.dispatchEvent(new CustomEvent('sidebar-width-change', {
					detail: { width: sidebarCollapsed ? 72 : 250 }
				}));
			} else {
				sidebarOpen = !sidebarOpen;
				window.dispatchEvent(new CustomEvent('sidebar-toggle', { 
					detail: { open: sidebarOpen } 
				}));
			}
		}
	}

	const menuItems = [
		{ icon: LayoutGrid, label: 'ëŒ€ì‹œë³´ë“œ', href: '/' },
		{ icon: Disc3, label: 'ì•¨ë²” ê´€ë¦¬', href: '/albums' },
		{ icon: Music, label: 'íŠ¸ë™ ê´€ë¦¬', href: '/tracks' },
		{ icon: FolderOpen, label: 'ì—…ë¡œë“œÂ·ê²€ì¦ ì„¼í„°', href: '/upload' },
		{ icon: Heart, label: 'ì œì‘Â·í˜‘ì—… ë³´ë“œ', href: '/collaboration' },
		{ icon: Rocket, label: 'ë°œë§¤ ê´€ë¦¬', href: '/releases' },
		{ icon: DollarSign, label: 'ìˆ˜ìµ ê´€ë¦¬', href: '/revenue' },
		{ icon: Calendar, label: 'ì¼ì •Â·ìº˜ë¦°ë”', href: '/calendar' },
		{ icon: MessageSquare, label: 'í”¼ë“œë°±Â·ì•Œë¦¼ ì„¼í„°', href: '/feedback' },
		{ icon: Shield, label: 'ë³´ì•ˆÂ·ìš´ì˜ ê´€ë¦¬', href: '/security' },
		{ icon: Settings, label: 'ì„¤ì •', href: '/settings' }
	];

	function isActive(href: string): boolean {
		if (isSearching) return false;
		const currentPath = $page.url.pathname;
		return href === '/' ? currentPath === '/' : currentPath.startsWith(href);
	}

	function handleMenuClick(event: Event, href: string) {
		if (isSearching) {
			window.dispatchEvent(new CustomEvent('search-clear'));
		}
	}

	onMount(() => {
		checkScreenSize();
		
		if (typeof window !== 'undefined') {
			const handleSearchChange = (event: CustomEvent) => {
				isSearching = event.detail.show;
			};

			const handleResize = () => {
				checkScreenSize();
			};

			window.addEventListener('search-change', handleSearchChange as EventListener);
			window.addEventListener('resize', handleResize);

			return () => {
				window.removeEventListener('search-change', handleSearchChange as EventListener);
				window.removeEventListener('resize', handleResize);
			};
		}
	});
</script>

<aside 
	class="top-0 fixed left-0 h-screen bg-surface-2 border-r border-border-subtle z-50 overflow-hidden"
	class:w-[72px]={sidebarCollapsed}
	class:w-[250px]={!sidebarCollapsed}
	class:-translate-x-full={!sidebarOpen && isMobile}
	class:translate-x-0={sidebarOpen && isMobile}
	class:translate-x-0={!isMobile}
	style="transition: width 200ms ease-in-out, transform 200ms ease-in-out;"
>
	<div class="h-full w-full overflow-hidden">
		<nav class="h-full flex flex-col">
			<div class="flex items-center h-20 border-b border-border-subtle flex-shrink-0 px-6">
				<div class="flex-shrink-0 w-6 h-6">
					<button
						onclick={handleSidebarToggle}
						onmouseenter={() => { if (!isMobile) sidebarToggleHovered = true; }}
						onmouseleave={() => { if (!isMobile) sidebarToggleHovered = false; }}
						class="inline-flex items-center justify-center w-6 h-6 rounded-md transition-colors duration-200 ease-in-out focus:outline-none focus:ring-0"
						aria-label="ì‚¬ì´ë“œë°” í† ê¸€"
						title="ì‚¬ì´ë“œë°” í† ê¸€"
					>
						{#if isMobile}
							<PanelsTopLeft 
								size={20} 
								class="transition-colors duration-200 ease-in-out text-brand-pink" 
							/>
						{:else if sidebarCollapsed}
							<PanelLeftOpen 
								size={20} 
								class="transition-colors duration-200 ease-in-out {sidebarToggleClicked ? 'text-brand-pink' : sidebarToggleHovered ? 'text-hover-cyan' : 'text-brand-pink'}" 
							/>
						{:else}
							<PanelLeftClose 
								size={20} 
								class="transition-colors duration-200 ease-in-out {sidebarToggleClicked ? 'text-brand-pink' : sidebarToggleHovered ? 'text-hover-cyan' : 'text-brand-pink'}" 
							/>
						{/if}
					</button>
				</div>
				
				<div class="sidebar-text-animation ml-3 {sidebarCollapsed ? 'collapsed' : 'expanded'}">
					<img src="/logo.svg" alt="Sugar Rush" class="h-6 w-auto" />
				</div>
			</div>

			<ul class="space-y-0 flex-1 overflow-hidden">
			{#each menuItems as item (item.label)}
				{@const IconComponent = item.icon}
				<li class="overflow-hidden">
					<a
						href={item.href}
						onclick={(e) => handleMenuClick(e, item.href)}
						class="sidebar-menu-item flex items-center h-12 w-full text-text-base transition-colors duration-200 ease-in-out px-6 {isActive(item.href) ? 'active' : ''}"
						style="outline: none;"
						title={sidebarCollapsed ? item.label : ''}
					>
						<div class="flex-shrink-0 w-5 h-5 flex items-center justify-center">
							<IconComponent size={20} class="lucide-icon transition-colors duration-200 ease-in-out" />
						</div>
						
						<div class="sidebar-text-animation ml-3 {sidebarCollapsed ? 'collapsed' : 'expanded'}">
							<span class="text-sm whitespace-nowrap hidden md:inline">{item.label}</span>
						</div>
					</a>
				</li>
			{/each}
			</ul>
		</nav>
	</div>
</aside>
```

### 4. src/lib/components/Header.svelte

```svelte
<script lang="ts">
	import { onMount } from 'svelte';
	import { page } from '$app/stores';
	import { Search, Bell, X } from 'lucide-svelte';
	import ThemeToggle from './ThemeToggle.svelte';

	let searchValue = '';
	let searchIconHovered = false;
	let searchFocused = false;
	let searchResults: { 
		exact: { id: string; title: string; type: string; href: string }[];
		similar: { id: string; title: string; type: string; href: string }[];
	} = { exact: [], similar: [] };
	let searchLoading = false;

	let notificationHovered = false;
	let notificationClicked = false;

	let sidebarWidth = 72;

	const menuItems = [
		{ href: '/', label: 'ëŒ€ì‹œë³´ë“œ' },
		{ href: '/albums', label: 'ì•¨ë²” ê´€ë¦¬' },
		{ href: '/tracks', label: 'íŠ¸ë™ ê´€ë¦¬' },
		{ href: '/upload', label: 'ì—…ë¡œë“œÂ·ê²€ì¦ ì„¼í„°' },
		{ href: '/collaboration', label: 'ì œì‘Â·í˜‘ì—… ë³´ë“œ' },
		{ href: '/releases', label: 'ë°œë§¤ ê´€ë¦¬' },
		{ href: '/revenue', label: 'ìˆ˜ìµ ê´€ë¦¬' },
		{ href: '/calendar', label: 'ì¼ì •Â·ìº˜ë¦°ë”' },
		{ href: '/feedback', label: 'í”¼ë“œë°±Â·ì•Œë¦¼ ì„¼í„°' },
		{ href: '/security', label: 'ë³´ì•ˆÂ·ìš´ì˜ ê´€ë¦¬' },
		{ href: '/settings', label: 'ì„¤ì •' }
	];

	function getCurrentPageTitle(): string {
		const currentPath = $page.url.pathname;
		
		const exactMatch = menuItems.find(item => item.href === currentPath);
		if (exactMatch) return exactMatch.label;
		
		const partialMatch = menuItems.find(item => 
			item.href !== '/' && currentPath.startsWith(item.href)
		);
		if (partialMatch) return partialMatch.label;
		
		return 'ëŒ€ì‹œë³´ë“œ';
	}

	async function performSearch(query: string) {
		searchLoading = true;

		try {
			const response = await fetch(`/api/search?q=${encodeURIComponent(query)}&limit=8`);
			const data = await response.json() as { 
				ok: boolean; 
				data: { 
					exact: { id: string; title: string; type: string; href: string }[];
					similar: { id: string; title: string; type: string; href: string }[];
				} 
			};
			
			if (data.ok) {
				searchResults = data.data;
			} else {
				searchResults = { exact: [], similar: [] };
			}
		} catch (error) {
			console.error('Search error:', error);
			searchResults = { exact: [], similar: [] };
		} finally {
			searchLoading = false;
			notifySearchChange();
		}
	}

	let searchTimeout: ReturnType<typeof setTimeout>;
	function handleSearchInput() {
		clearTimeout(searchTimeout);
		searchTimeout = setTimeout(() => {
			if (searchValue.trim()) {
				performSearch(searchValue);
			} else {
				performSearch('');
			}
		}, 300);
	}

	function clearSearch() {
		searchValue = '';
		searchResults = { exact: [], similar: [] };
		window.dispatchEvent(new CustomEvent('search-change', {
			detail: { query: '', results: { exact: [], similar: [] }, show: false }
		}));
		searchValue = searchValue;
	}

	function notifySearchChange() {
		const shouldShow = searchValue.trim().length > 0;
		window.dispatchEvent(new CustomEvent('search-change', {
			detail: { query: searchValue, results: searchResults, show: shouldShow }
		}));
	}

	function handleNotificationClick() {
		notificationClicked = true;
		setTimeout(() => {
			notificationClicked = false;
		}, 150);
		
		clearSearch();
		window.location.href = '/feedback';
	}

	onMount(() => {
		const handleSearchClear = () => {
			clearSearch();
		};

		const handleSidebarWidthChange = (event: CustomEvent) => {
			sidebarWidth = event.detail.width;
		};

		window.addEventListener('search-clear', handleSearchClear);
		window.addEventListener('sidebar-width-change', handleSidebarWidthChange as EventListener);
		return () => {
			window.removeEventListener('search-clear', handleSearchClear);
			window.removeEventListener('sidebar-width-change', handleSidebarWidthChange as EventListener);
		};
	});

	$: showSearchResults = searchValue.trim() !== '' && (searchResults.exact.length > 0 || searchResults.similar.length > 0);
</script>

<header class="h-20 px-6 fixed top-0 left-0 right-0 z-[60] bg-bg transition-all duration-300" style="margin-left: {sidebarWidth}px;">
	<div class="flex h-full items-center justify-between">
		<div class="flex items-center gap-4">
			<div class="hidden md:flex items-center flex-shrink-0">
				{#if searchValue.trim()}
					<div class="flex items-center gap-2">
						<h2 class="text-sm sm:text-base font-semibold truncate" style="color: var(--brand-pink);">
							ê²€ìƒ‰ ê²°ê³¼
						</h2>
						{#if searchResults?.exact?.length > 0}
							<span class="text-xs text-text-muted flex-shrink-0">
								({(searchResults?.exact?.length || 0)}ê°œ)
							</span>
						{/if}
					</div>
				{:else}
					<h2 class="text-sm sm:text-base font-semibold truncate" style="color: var(--brand-pink);">
						{getCurrentPageTitle()}
					</h2>
				{/if}
			</div>
		</div>

		<div class="flex items-center gap-2 sm:gap-4 flex-1 justify-end">
			<div class="flex items-center search-container">
				<div class="relative w-full min-w-[120px] sm:min-w-[160px] md:min-w-[200px] lg:min-w-[240px] xl:min-w-[280px] max-w-[320px]">
					<Search 
						size={16} 
						class="absolute left-3 top-1/2 transform -translate-y-1/2 text-text-base transition-colors {searchValue || searchFocused ? 'text-brand-pink' : searchIconHovered ? 'text-hover-cyan' : ''}" 
					/>
					<input
						bind:value={searchValue}
						type="text"
						placeholder="ê²€ìƒ‰..."
						class="pl-10 pr-10 py-1.5 w-full bg-surface-1 border border-border-subtle border-[1px] rounded-md text-text-base placeholder-text-muted hover:border-hover-cyan focus:outline-none focus:ring-0 focus:border-[1px] focus:border-brand-pink transition-colors duration-300"
						onmouseenter={() => searchIconHovered = true}
						onmouseleave={() => searchIconHovered = false}
						onfocus={() => { searchFocused = true; }}
						onblur={() => { searchFocused = false; }}
						oninput={handleSearchInput}
					/>
					
					{#if searchValue.trim()}
						<button
							onclick={clearSearch}
							class="absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 flex items-center justify-center text-text-muted hover:text-text-strong transition-colors"
							aria-label="ê²€ìƒ‰ ì´ˆê¸°í™”"
						>
							<X size={16} />
						</button>
					{/if}
				</div>
			</div>

			<div class="flex items-center flex-shrink-0">
				<button
					class="relative inline-flex items-center justify-center w-5 h-5 sm:w-6 sm:h-6 rounded-md transition-colors focus:outline-none focus:ring-0"
					onclick={handleNotificationClick}
					onmouseenter={() => notificationHovered = true}
					onmouseleave={() => notificationHovered = false}
					aria-label="ì•Œë¦¼"
				>
					<Bell 
						size={14} 
						class="sm:w-4 sm:h-4 transition-colors {notificationClicked ? 'text-brand-pink' : notificationHovered ? 'text-hover-cyan' : 'text-text-base'}" 
					/>
					<span 
						class="absolute -top-0.5 -right-0.5 w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full transition-colors" 
						style="background-color: {notificationClicked ? 'var(--brand-pink)' : notificationHovered ? 'var(--hover-cyan)' : 'var(--brand-pink)'};"
					></span>
				</button>
			</div>

			<div class="flex items-center flex-shrink-0">
				<ThemeToggle />
			</div>
		</div>
	</div>
</header>
```

### 5. src/lib/components/ThemeToggle.svelte

```svelte
<script lang="ts">
	import { onMount } from 'svelte';
	import { Eclipse } from 'lucide-svelte';

	let theme = 'dark';
	let themeHovered = false;
	let themeClicked = false;

	onMount(() => {
		if (typeof window !== 'undefined') {
			const savedTheme = localStorage.getItem('sr_theme') || 'dark';
			theme = savedTheme;
			document.documentElement.setAttribute('data-theme', theme);
		}
	});

	function toggleTheme() {
		themeClicked = true;
		setTimeout(() => {
			themeClicked = false;
		}, 150);
		
		if (typeof window !== 'undefined') {
			theme = theme === 'dark' ? 'light' : 'dark';
			localStorage.setItem('sr_theme', theme);
			document.documentElement.setAttribute('data-theme', theme);
		}
	}
</script>

<button
	onclick={toggleTheme}
	class="inline-flex items-center justify-center w-5 h-5 sm:w-6 sm:h-6 rounded-md transition-colors focus:outline-none focus:ring-0"
	onmouseenter={() => themeHovered = true}
	onmouseleave={() => themeHovered = false}
	aria-label="í…Œë§ˆ ì „í™˜"
	title="ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ ì „í™˜"
>
	<Eclipse 
		size={14} 
		class="sm:w-4 sm:h-4 transition-colors {themeClicked ? 'text-brand-pink' : themeHovered ? 'text-hover-cyan' : 'text-text-base'}" 
	/>
</button>
```

### 6. src/lib/components/PageContainer.svelte

```svelte
<script lang="ts">
	import { createEventDispatcher } from 'svelte';
	
	let { children } = $props();
	
	const dispatch = createEventDispatcher();
</script>

<div class="w-full">
	{@render children?.()}
</div>
```

---

## ğŸ”§ ì„¤ì • íŒŒì¼ë“¤

### package.json

```json
{
  "name": "@sugar/admin",
  "version": "0.0.0",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "vite dev",
    "build": "vite build",
    "preview": "svelte-kit preview",
    "check": "svelte-check --tsconfig ./tsconfig.json",
    "check:watch": "svelte-check --tsconfig ./tsconfig.json --watch",
    "lint": "eslint .",
    "test": "vitest"
  },
  "devDependencies": {
    "@cloudflare/workers-types": "4.20250924.0",
    "@eslint/compat": "1.4.0",
    "@eslint/js": "9.36.0",
    "@libsql/client": "0.14.0",
    "@sveltejs/adapter-cloudflare": "7.2.3",
    "@sveltejs/kit": "2.43.4",
    "@sveltejs/vite-plugin-svelte": "6.2.1",
    "@tailwindcss/vite": "4.1.13",
    "@types/node": "22.18.6",
    "@vitest/browser": "3.2.4",
    "drizzle-kit": "0.30.6",
    "drizzle-orm": "0.40.1",
    "eslint": "9.36.0",
    "eslint-config-prettier": "10.1.8",
    "eslint-plugin-svelte": "3.12.4",
    "globals": "16.4.0",
    "playwright": "1.55.1",
    "prettier": "3.6.2",
    "prettier-plugin-svelte": "3.4.0",
    "prettier-plugin-tailwindcss": "0.6.14",
    "svelte": "5.39.6",
    "svelte-check": "4.3.2",
    "tailwindcss": "4.1.13",
    "typescript": "5.9.2",
    "typescript-eslint": "8.44.1",
    "vite": "7.1.7",
    "vitest": "3.2.4",
    "vitest-browser-svelte": "0.1.0",
    "wrangler": "4.40.0"
  },
  "dependencies": {
    "lucide-svelte": "^0.544.0"
  }
}
```

### vite.config.ts

```typescript
import tailwindcss from '@tailwindcss/vite';
import { defineConfig } from 'vitest/config';
import { sveltekit } from '@sveltejs/kit/vite';

export default defineConfig({
	plugins: [tailwindcss(), sveltekit()],
	test: {
		expect: { requireAssertions: true },
		projects: [
			{
				extends: './vite.config.ts',
				test: {
					name: 'client',
					environment: 'browser',
					browser: {
						enabled: true,
						provider: 'playwright',
						instances: [{ browser: 'chromium' }]
					},
					include: ['src/**/*.svelte.{test,spec}.{js,ts}'],
					exclude: ['src/lib/server/**'],
					setupFiles: ['./vitest-setup-client.ts']
				}
			},
			{
				extends: './vite.config.ts',
				test: {
					name: 'server',
					environment: 'node',
					include: ['src/**/*.{test,spec}.{js,ts}'],
					exclude: ['src/**/*.svelte.{test,spec}.{js,ts}']
				}
			}
		]
	}
});
```

---

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥ë“¤

### 1. ìŠ¤í¬ë¡¤ë°” ìµœì í™”
- **Windows 11 ì˜¤ë²„ë ˆì´ ìŠ¤í¬ë¡¤ë°” ì§€ì›**
- **í˜¸ë²„ ìƒ‰ìƒ ê°•í™”**: `background-clip: padding-box` + `border: 2px solid transparent`
- **ë¸Œë¼ìš°ì € í˜¸í™˜ì„±**: Firefox (`scrollbar-width`, `scrollbar-color`) + Chrome/Edge (WebKit)
- **ì•ˆì •ì„± í–¥ìƒ**: `scrollbar-gutter: stable both-edges`

### 2. ë°˜ì‘í˜• ì‚¬ì´ë“œë°”
- **ëª¨ë°”ì¼**: ë“œë¡œì–´ í˜•íƒœ (`PanelsTopLeft` ì•„ì´ì½˜, í† ê¸€ ê¸°ëŠ¥)
- **ë°ìŠ¤í¬í†±**: ì¶•ì†Œ/í™•ì¥ í† ê¸€ (`PanelLeftOpen`/`PanelLeftClose`, 72px â†” 250px)
- **í†µì¼ ì• ë‹ˆë©”ì´ì…˜**: ë¡œê³ ì™€ ë©”ë‰´ í…ìŠ¤íŠ¸ ë™ì‹œ í˜ì´ë“œ ì¸/ì•„ì›ƒ
- **ê³ ì • ì•„ì´ì½˜**: ë©”ë‰´ ì•„ì´ì½˜ ìœ„ì¹˜ ê³ ì •

### 3. ë°˜ì‘í˜• í—¤ë”
- **ê²€ìƒ‰ì°½**: ëª¨ë°”ì¼ì—ì„œ í™•ì¥, ë°ìŠ¤í¬í†±ì—ì„œ ê³ ì • ë„ˆë¹„
- **í˜ì´ì§€ ì œëª©**: ì¤‘ê°„ í™”ë©´ ì´ìƒì—ì„œë§Œ í‘œì‹œ
- **í…Œë§ˆ í† ê¸€**: ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ (`Eclipse` ì•„ì´ì½˜)
- **ì•Œë¦¼ ë²„íŠ¼**: í•«í•‘í¬ ì  í‘œì‹œ, í˜¸ë²„ ì‹œ ì‹œì•ˆ ìƒ‰ìƒ

### 4. í†µì¼ëœ UI ì‹œìŠ¤í…œ
- **í•«í•‘í¬ ë²„íŠ¼**: ê¸°ë³¸ `#FF007F`, í˜¸ë²„ ì‹œ `#00FFFF` + ê²€ì • í…ìŠ¤íŠ¸
- **ê²€ìƒ‰ì°½**: í†µì¼ëœ í˜¸ë²„/í¬ì»¤ìŠ¤ ìŠ¤íƒ€ì¼
- **ì¹´ë“œ ê·¸ë¦¬ë“œ**: ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ (`auto-fit` + `minmax`)
- **í˜ì´ì§€ í—¤ë”**: í†µì¼ëœ ì œëª©/ì„¤ëª…/ì—¬ë°± ì‹œìŠ¤í…œ

---

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰ ê°€ì´ë“œ

### 1. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
cd sugar-rush-910
pnpm install
```

### 2. ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
pnpm dev
```

### 3. ì ‘ì†
- ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:5173` ë˜ëŠ” `http://localhost:5174` ì ‘ì†

### 4. ë¹Œë“œ
```bash
pnpm build
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### ë¸Œë¼ìš°ì € í˜¸í™˜ì„±
- **Chrome/Edge**: ì™„ì „ ì§€ì› (WebKit ìŠ¤í¬ë¡¤ë°” + í˜¸ë²„ íš¨ê³¼)
- **Firefox**: ìƒ‰ìƒ/ë‘ê»˜ë§Œ ì§€ì› (ëª¨ì–‘ ì»¤ìŠ¤í„°ë§ˆì´ì§• ë¶ˆê°€)
- **Safari**: WebKit ìŠ¤í¬ë¡¤ë°” ì§€ì›

### Windows 11 ì˜í–¥
- **ì˜¤ë²„ë ˆì´ ìŠ¤í¬ë¡¤ë°”**: ëª¨ì„œë¦¬ê°€ ì—¬ì „íˆ ë‘¥ê¸€ì§€ë§Œ í˜¸ë²„ ìƒ‰ìƒì€ í™•ì‹¤íˆ í‘œì‹œ
- **ìë™ ìˆ¨ê¹€**: `scrollbar-gutter: stable`ë¡œ ì•ˆì •ì„± í–¥ìƒ

### ìµœì í™”ëœ ìƒíƒœ
- ëª¨ë“  í…ìŠ¤íŠ¸ê°€ `Pretendard Variable` í°íŠ¸ ì‚¬ìš©
- ëª¨ë“  ì•„ì´ì½˜ì´ `lucide-svelte` ì‚¬ìš©
- ë°˜ì‘í˜• ì‹œìŠ¤í…œ ì™„ë²½ ì ìš©
- ìŠ¤í¬ë¡¤ë°” í˜¸ë²„ íš¨ê³¼ ìµœì í™”

---

## ğŸ“ ë²„ì „ íˆìŠ¤í† ë¦¬

### ë°±ì—… í¬ì¸íŠ¸: 2025-10-04 09:16:32
- âœ… ìŠ¤í¬ë¡¤ë°” Windows 11 ì˜¤ë²„ë ˆì´ ìµœì í™” ì™„ë£Œ
- âœ… í˜¸ë²„ ìƒ‰ìƒ ëª…í™•í™” (`background-clip` + `border` ì¡°í•©)
- âœ… Firefox + Chrome/Edge ëª¨ë‘ í˜¸í™˜
- âœ… ëª¨ë“  ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€ (ì‚¬ì´ë“œë°”, í—¤ë”, ë°˜ì‘í˜•)
- âœ… ìƒ‰ìƒ ì‹œìŠ¤í…œ ì™„ë²½ ì ìš©
- âœ… ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ê²€ì¦ ì™„ë£Œ

ë.






