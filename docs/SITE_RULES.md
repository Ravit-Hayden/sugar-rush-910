# 사이트 규칙 (Sugar Rush 910)

프로젝트 전반에서 지키는 공통 규칙입니다. **개발·수정을 시작하기 전에는 `docs/DEVELOPMENT_GUIDELINES.md`를 먼저 읽습니다.** 신규 기능·수정 시 이 문서와 `.cursorrules`, `docs/BUTTON_STYLES_REFERENCE.md`를 함께 참고합니다.

---

## 1. 복사·알림

- **복사 버튼**을 누르면 **복사 완료와 동시에 알림(토스트)**이 뜬다.
- 복사 실패 시에도 알림으로 실패 사유를 안내한다.

---

## 2. 삭제 시 확인

- **삭제** 시 반드시 **확인 질문 알림**(confirm 또는 모달)이 뜬다.
- 확인 후에만 삭제가 실행된다.

---

## 3. 편집과 기록

- **모든 부분**은 **편집**과 **기록(히스토리/이력)**이 남도록 설계·구현한다.
- 목업 단계에서도 편집 가능·기록 필드 구조를 미리 둔다.

---

## 4. 같은 위치 = 공통 디자인

- **같은 위치에 들어가는 UI**는 **공통 디자인**을 적용한다.
- 예: 카드 헤더, 리스트 행, 폼 블록 등 위치별로 한 가지 패턴을 유지한다.

---

## 5. 작업 종료 시 점검

- 작업이 끝나면 **반드시** 다음을 확인한다.
  - 보완할 점
  - 오류 여부
  - 꼬인 코드 없음·정상 상태
- **보완할 부분이 없을 때까지** 순서대로 안전하고 완벽하게 진행한다.

---

## 6. 부족한 부분 즉시 보완

- 작업 중 **부족한 부분**을 발견하면 **바로 보완점을 찾아 알린다.**
- 알림 후 필요 시 수정·보완까지 진행한다.

---

## 7. 미니멀·공통 디자인

- **색상과 디자인은 최소**로 해서 **미니멀함**을 유지한다.
- **기존 디자인**을 **공통적으로 활용**하는 것을 지향한다.

---

## 8. 같은 종류 = 같은 기능·디자인

- **검색창, 인풋, 드롭다운 버튼, 드롭다운 리스트, 캘린더, 커스텀 스크롤바** 등 **같은 종류**에는 **같은 기능과 디자인**을 공통으로 사용한다.
- `input-base`, `btn-outline-hover`, 공통 캘린더·스크롤바 클래스 등을 일관 적용한다.

---

## 9. 목업으로 바로 활성화

- **모든 기능**을 실제로 사용할 때 **바로 활성화**되도록 **미리 목업으로 준비**해 둔다.
- API 연동 전에도 버튼·폼·탭이 동작하고, 연동 시 교체만 하면 되도록 한다.

---

## 10. 최신 코드·시스템

- **항상 최신 코드와 시스템**으로 미래를 준비하고 적용하려 노력한다.
- 의존성·문법·패턴은 프로젝트 스택(SvelteKit, Tailwind v4, pnpm 등)에 맞춰 유지한다.

---

## 11. 알림은 커스텀·공통

- **알림이 떠야 하는 부분**은 모두 **우리 커스텀 디자인과 기능**을 **공통적이고 완벽하게** 넣는다.
- 토스트·confirm·모달 등 알림 UI는 공통 컴포넌트/스타일을 사용한다.

---

## 12. 수정·보완 시 안정성

- **사이트가 원활하게 유지**되도록 **조심스럽게** 수정·보완한다.
- 큰 변경은 단계별로 하고, 빌드·동작 확인 후 다음 단계로 진행한다.

---

## 13. 라인·색상

- **라인(테두리)은 1개의 두께만** 존재하며, **지정된 색상들**만 사용한다.
- `border-border-subtle`, 문서화된 테마 변수(`--border-subtle` 등)를 따른다.

---

## 14. 선택 활성화 시 호버 색

- **선택·활성화**된 요소 위에 **호버 시**에는 **호버 시안/호버 보라색**이 나오지 않도록 한다.
- 포커스·활성 상태일 때는 **brand-pink(포커스 색)** 우선 적용.

---

## 15. 탭 디자인 공통

- **탭 디자인**은 **SUNO 제작 페이지**를 기본으로 해서 **공통적으로 맞춘다.**
- 다른 페이지의 탭도 같은 패턴(스타일·구조)을 사용한다.

---

## 16. 연결성

- **각 기능과 페이지**는 **같은 내용·기능**에 한해 **모두 연결**된다.
- 목록↔상세↔편집, 링크·id·데이터 소스가 일치하도록 유지한다.

---

## 17. 디자인 지침·공통 버튼

- **대시보드, SUNO 제작, 앨범 추가 페이지**를 **디자인의 지침**으로 해서 **공통적으로** 모두 따른다.
- **디자인 규칙·법칙·버튼 종류**를 공통으로 사용해, 사용자가 **헷갈리지 않게** 한다.
- `docs/BUTTON_STYLES_REFERENCE.md`, `app.css`의 버튼 클래스를 기준으로 한다.

---

## 보완 규칙 (추가 권장)

아래는 기존 17개와 함께 두면 일관성·품질을 높일 수 있는 **보완 규칙**입니다.

---

### A. 접근성·키보드

- 포커스 링, `aria-label`/`aria-live`, 키보드만으로 조작 가능한 흐름을 유지한다.
- WCAG 2.2 AA 대비(≥4.5:1), 포커스 링 ≥1.5px 등 `.cursorrules` 접근성 규칙을 따른다.

---

### B. 로딩·빈 상태

- **비동기 로딩** 시 공통 로딩 표시(스피너/스켈레톤)를 사용한다.
- **데이터가 없을 때**는 공통 **Empty State** 컴포넌트·메시지로 통일한다.

---

### C. 에러·실패 처리

- API·업로드·저장 **실패 시** 사용자에게 **알림(토스트)**으로 안내한다.
- 가능하면 복구 방법(재시도, 입력 수정 등)을 함께 안내한다.

---

### D. 반응형 일관

- **모든 화면**은 **같은 반응형 규칙**을 따른다.
- 사이드바·헤더·검색창 등은 `.cursorrules`의 반응형 규칙(데스크톱 고정/태블릿 축소/모바일 드로어 등)을 그대로 적용한다.

---

### E. URL·라우팅 규칙

- **URL 구조**는 **일관된 규칙**을 따른다.
- 목록 `/리소스`, 상세 `/리소스/[id]`, 편집 `/리소스/[id]/edit`, 추가 `/리소스/new` 등 패턴을 유지한다.

---

### F. 타입·데이터 계약

- API 응답·폼·목업의 **타입을 일관**되게 둔다.
- 같은 엔티티는 같은 필드명·타입을 사용하고, `$lib/types` 등 공통 타입을 활용한다.

---

### G. 보안·노출 금지

- API 키·시크릿·DB 접속 정보는 **서버(환경 변수/시크릿)에만** 두고, 클라이언트·번들·로그·에러 메시지에 **절대 포함하지 않는다.**
- `.cursorrules`의 API·보안 규칙을 따른다.

---

### H. 금칙어

- 공개 UI·문서·알림에 **"AI" 문자열 금지.** 내부 코드/DB에서만 `ai_type` 등 허용. (`.cursorrules`와 동일)

---

이 문서는 **사이트 규칙**의 단일 소스로 유지하며, 규칙 추가·수정 시 이 파일과 `.cursorrules`를 함께 갱신합니다.
